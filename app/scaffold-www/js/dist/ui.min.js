/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var n,e,t;!function(r){function o(n,e){return _.call(n,e)}function i(n,e){var t,r,o,i,s,u,l,c,a,f,d,p=e&&e.split("/"),m=j.map,g=m&&m["*"]||{};if(n&&"."===n.charAt(0))if(e){for(p=p.slice(0,p.length-1),n=n.split("/"),s=n.length-1,j.nodeIdCompat&&k.test(n[s])&&(n[s]=n[s].replace(k,"")),n=p.concat(n),a=0;a<n.length;a+=1)if(d=n[a],"."===d)n.splice(a,1),a-=1;else if(".."===d){if(1===a&&(".."===n[2]||".."===n[0]))break;a>0&&(n.splice(a-1,2),a-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((p||g)&&m){for(t=n.split("/"),a=t.length;a>0;a-=1){if(r=t.slice(0,a).join("/"),p)for(f=p.length;f>0;f-=1)if(o=m[p.slice(0,f).join("/")],o&&(o=o[r])){i=o,u=a;break}if(i)break;!l&&g&&g[r]&&(l=g[r],c=a)}!i&&l&&(i=l,u=c),i&&(t.splice(0,u,i),n=t.join("/"))}return n}function s(n,e){return function(){return p.apply(r,w.call(arguments,0).concat([n,e]))}}function u(n){return function(e){return i(e,n)}}function l(n){return function(e){v[n]=e}}function c(n){if(o(b,n)){var e=b[n];delete b[n],h[n]=!0,d.apply(r,e)}if(!o(v,n)&&!o(h,n))throw new Error("No "+n);return v[n]}function a(n){var e,t=n?n.indexOf("!"):-1;return t>-1&&(e=n.substring(0,t),n=n.substring(t+1,n.length)),[e,n]}function f(n){return function(){return j&&j.config&&j.config[n]||{}}}var d,p,m,g,v={},b={},j={},h={},_=Object.prototype.hasOwnProperty,w=[].slice,k=/\.js$/;m=function(n,e){var t,r=a(n),o=r[0];return n=r[1],o&&(o=i(o,e),t=c(o)),o?n=t&&t.normalize?t.normalize(n,u(e)):i(n,e):(n=i(n,e),r=a(n),o=r[0],n=r[1],o&&(t=c(o))),{f:o?o+"!"+n:n,n:n,pr:o,p:t}},g={require:function(n){return s(n)},exports:function(n){var e=v[n];return"undefined"!=typeof e?e:v[n]={}},module:function(n){return{id:n,uri:"",exports:v[n],config:f(n)}}},d=function(n,e,t,i){var u,a,f,d,p,j,_=[],w=typeof t;if(i=i||n,"undefined"===w||"function"===w){for(e=!e.length&&t.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if(d=m(e[p],i),a=d.f,"require"===a)_[p]=g.require(n);else if("exports"===a)_[p]=g.exports(n),j=!0;else if("module"===a)u=_[p]=g.module(n);else if(o(v,a)||o(b,a)||o(h,a))_[p]=c(a);else{if(!d.p)throw new Error(n+" missing "+a);d.p.load(d.n,s(i,!0),l(a),{}),_[p]=v[a]}f=t?t.apply(v[n],_):void 0,n&&(u&&u.exports!==r&&u.exports!==v[n]?v[n]=u.exports:f===r&&j||(v[n]=f))}else n&&(v[n]=t)},n=e=p=function(n,e,t,o,i){if("string"==typeof n)return g[n]?g[n](e):c(m(n,e).f);if(!n.splice){if(j=n,j.deps&&p(j.deps,j.callback),!e)return;e.splice?(n=e,e=t,t=null):n=r}return e=e||function(){},"function"==typeof t&&(t=o,o=i),o?d(r,n,e,t):setTimeout(function(){d(r,n,e,t)},4),p},p.config=function(n){return p(n)},n._defined=v,t=function(n,e,t){e.splice||(t=e,e=[]),o(v,n)||o(b,n)||(b[n]=[n,e,t])},t.amd={jQuery:!0}}(),t("almond",function(){}),e.config({baseUrl:".",paths:{$:"../node_modules/jquery/dist/jquery.min","astro-base":"../node_modules/astro-sdk/js/src/astro-base","astro-client":"../node_modules/astro-sdk/js/src/astro-client","astro-full":"../node_modules/astro-sdk/js/src/astro-full","astro-rpc":"../node_modules/astro-sdk/js/src/global/astro-rpc","app-events":"global/app-events","app-rpc":"global/app-rpc",application:"../node_modules/astro-sdk/js/src/application",bluebird:"../node_modules/bluebird/js/browser/bluebird",config:"scaffold-config",controllers:"../node_modules/astro-sdk/js/src/controllers","left-drawer":"./scaffold-www/js/left-drawer",navitron:"../node_modules/navitron/dist/navitron.min",plugin:"../node_modules/plugin/dist/plugin.min",plugins:"../node_modules/astro-sdk/js/src/plugins","plugin-manager":"../node_modules/astro-sdk/js/src/plugin-manager",requirejs:"node_modules/requirejs/require",ui:"./scaffold-www/js/ui",velocity:"../node_modules/velocity-animate/velocity.min","vendor/backbone-events":"../node_modules/astro-sdk/js/vendor/backbone-events",worker:"../node_modules/astro-sdk/js/src/worker"},shim:{$:{exports:"$"}}}),t("require-config",function(){}),e(["require-config"],function(){e(["$","navitron","astro-client"],function(n){var e=document.body.innerHTML,t=function(n){var e=4,t=0,r="",o=function(n){Array(e*t+1).join(" ");r=r+i(n)+"\n"},i=function(n){return n.replace("&","&amp;")},s=function(n){for(var e=0;e<n.length;e++){var t=n[e];u(t)}},u=function(n){o("<li>"),t++,n.subItems&&n.subItems.length>0?(l(n.title),o("<ul>"),t++,c(n.title),s(n.subItems),t--,o("</ul>")):o('<a class="navitron-link" href="'+n.href+'">'+n.title+"</a>"),t--,o("</li>")},l=function(n){o('<button class="navitron__next-pane" type="button">'+n+"</button>")},c=function(n){o('<li class="navitron__header">'),t++,o('<div class="c-bar">'),t++,o('<button class="c-button navitron__prev-pane" type="button">Back</button>'),o('<span class="c-bar__heading">'+n+"</span>"),t--,o("</div>"),t--,o("</li>")};return s(n),r},r=Astro.jsRpcMethod("navigateToNewRootView",["url","title"]),o=function(){n(".navitron-link").on("click",function(n){var e=n.target.href,t=n.target.innerText;r(e,t).error(function(n){console.log("error",n)}),n.preventDefault()}),n("#leftMenuNavitron").navitron({structure:!1,shiftAmount:100})},i=function(e){var r=t(e);n("#menuPlaceHolder").replaceWith(r),o()};Astro.jsRpcMethod("menuItems",[])().then(function(n){i(n)}),Astro.on("setMenuItems",function(n){document.body.innerHTML=e,i(n.menuItems)})})}),t("left-drawer",function(){}),e(["left-drawer"],function(n){}),t("scaffold-www/js/ui.js",function(){})}();