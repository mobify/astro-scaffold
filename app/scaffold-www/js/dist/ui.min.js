/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var n,e,t;!function(r){function o(n,e){return w.call(n,e)}function i(n,e){var t,r,o,i,u,s,l,c,f,a,d,p=e&&e.split("/"),m=h.map,g=m&&m["*"]||{};if(n&&"."===n.charAt(0))if(e){for(p=p.slice(0,p.length-1),n=n.split("/"),u=n.length-1,h.nodeIdCompat&&_.test(n[u])&&(n[u]=n[u].replace(_,"")),n=p.concat(n),f=0;f<n.length;f+=1)if(d=n[f],"."===d)n.splice(f,1),f-=1;else if(".."===d){if(1===f&&(".."===n[2]||".."===n[0]))break;f>0&&(n.splice(f-1,2),f-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((p||g)&&m){for(t=n.split("/"),f=t.length;f>0;f-=1){if(r=t.slice(0,f).join("/"),p)for(a=p.length;a>0;a-=1)if(o=m[p.slice(0,a).join("/")],o&&(o=o[r])){i=o,s=f;break}if(i)break;!l&&g&&g[r]&&(l=g[r],c=f)}!i&&l&&(i=l,s=c),i&&(t.splice(0,s,i),n=t.join("/"))}return n}function u(n,e){return function(){return p.apply(r,y.call(arguments,0).concat([n,e]))}}function s(n){return function(e){return i(e,n)}}function l(n){return function(e){v[n]=e}}function c(n){if(o(b,n)){var e=b[n];delete b[n],j[n]=!0,d.apply(r,e)}if(!o(v,n)&&!o(j,n))throw new Error("No "+n);return v[n]}function f(n){var e,t=n?n.indexOf("!"):-1;return t>-1&&(e=n.substring(0,t),n=n.substring(t+1,n.length)),[e,n]}function a(n){return function(){return h&&h.config&&h.config[n]||{}}}var d,p,m,g,v={},b={},h={},j={},w=Object.prototype.hasOwnProperty,y=[].slice,_=/\.js$/;m=function(n,e){var t,r=f(n),o=r[0];return n=r[1],o&&(o=i(o,e),t=c(o)),o?n=t&&t.normalize?t.normalize(n,s(e)):i(n,e):(n=i(n,e),r=f(n),o=r[0],n=r[1],o&&(t=c(o))),{f:o?o+"!"+n:n,n:n,pr:o,p:t}},g={require:function(n){return u(n)},exports:function(n){var e=v[n];return"undefined"!=typeof e?e:v[n]={}},module:function(n){return{id:n,uri:"",exports:v[n],config:a(n)}}},d=function(n,e,t,i){var s,f,a,d,p,h,w=[],y=typeof t;if(i=i||n,"undefined"===y||"function"===y){for(e=!e.length&&t.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if(d=m(e[p],i),f=d.f,"require"===f)w[p]=g.require(n);else if("exports"===f)w[p]=g.exports(n),h=!0;else if("module"===f)s=w[p]=g.module(n);else if(o(v,f)||o(b,f)||o(j,f))w[p]=c(f);else{if(!d.p)throw new Error(n+" missing "+f);d.p.load(d.n,u(i,!0),l(f),{}),w[p]=v[f]}a=t?t.apply(v[n],w):void 0,n&&(s&&s.exports!==r&&s.exports!==v[n]?v[n]=s.exports:a===r&&h||(v[n]=a))}else n&&(v[n]=t)},n=e=p=function(n,e,t,o,i){if("string"==typeof n)return g[n]?g[n](e):c(m(n,e).f);if(!n.splice){if(h=n,h.deps&&p(h.deps,h.callback),!e)return;e.splice?(n=e,e=t,t=null):n=r}return e=e||function(){},"function"==typeof t&&(t=o,o=i),o?d(r,n,e,t):setTimeout(function(){d(r,n,e,t)},4),p},p.config=function(n){return p(n)},n._defined=v,t=function(n,e,t){e.splice||(t=e,e=[]),o(v,n)||o(b,n)||(b[n]=[n,e,t])},t.amd={jQuery:!0}}(),t("almond",function(){}),e.config({baseUrl:"../../../",paths:{$:"node_modules/jquery/dist/jquery.min",bluebird:"node_modules/bluebird/js/browser/bluebird",velocity:"node_modules/velocity-animate/velocity.min",navitron:"node_modules/navitron/dist/navitron.min",plugin:"node_modules/plugin/dist/plugin.min",requirejs:"node_modules/requirejs/require","astro-client":"node_modules/astro-sdk/js/src/astro-client","astro-base":"node_modules/astro-sdk/js/src/astro-base","astro-full":"node_modules/astro-sdk/js/src/astro-full","astro-rpc":"node_modules/astro-sdk/js/src/global/astro-rpc","left-drawer":"app/scaffold-www/js/left-drawer","ui-config":"app/scaffold-www/js/ui-config"},shim:{$:{exports:"$"}}}),t("ui-config",function(){}),e(["ui-config"],function(){e(["$","navitron","astro-client"],function(n){var e=document.body.innerHTML,t=function(n){var e=4,t=0,r="",o=function(n){Array(e*t+1).join(" ");r=r+i(n)+"\n"},i=function(n){return n.replace("&","&amp;")},u=function(n){for(var e=0;e<n.length;e++){var t=n[e];s(t)}},s=function(n){o("<li>"),t++,n.subItems&&n.subItems.length>0?(l(n.title),o("<ul>"),t++,c(n.title),u(n.subItems),t--,o("</ul>")):o('<a class="navitron-link" href="'+n.href+'">'+n.title+"</a>"),t--,o("</li>")},l=function(n){o('<button class="navitron__next-pane" type="button">'+n+"</button>")},c=function(n){o('<li class="navitron__header">'),t++,o('<div class="c-bar">'),t++,o('<button class="c-button navitron__prev-pane" type="button">Back</button>'),o('<span class="c-bar__heading">'+n+"</span>"),t--,o("</div>"),t--,o("</li>")};return u(n),r},r=Astro.jsRpcMethod("navigateToNewRootView",["url","title"]),o=function(){n(".navitron-link").on("click",function(n){var e=n.target.href,t=n.target.innerText;r(e,t).error(function(n){console.log("error",n)}),n.preventDefault()}),n("#leftMenuNavitron").navitron({structure:!1,shiftAmount:100})},i=function(e){var r=t(e);n("#menuPlaceHolder").replaceWith(r),o()};Astro.jsRpcMethod("menuItems",[])().then(function(n){i(n)}),Astro.on("setMenuItems",function(n){document.body.innerHTML=e,i(n.menuItems)})})}),t("left-drawer",function(){}),e(["left-drawer"],function(n){}),t("app/scaffold-www/js/ui.js",function(){})}();